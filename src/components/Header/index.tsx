import "@oddbird/popover-polyfill";
import styles from "./styles.module.css";
import ExternalLink from "../Svg/ExternalLink";
import cx from "classnames";

type HeaderProps = {
  dir: string;
};

const Header = ({ dir }: HeaderProps) => {
  return (
    <header className={styles.header}>
      <div className={styles.wrapper}>
        <a className={styles.h1} href="/" aria-label="office takanorip">
          <h1 className={styles.logo}>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="832"
              height="120"
              viewBox="0 0 832 120"
              fill="none"
            >
              <path
                fill="#0064CA"
                d="M0 20C0 8.954 8.954 0 20 0h60v40H20C8.954 40 0 31.046 0 20Z"
              />
              <path
                fill="#001319"
                d="M40 40h40v60c0 11.046-8.954 20-20 20s-20-8.954-20-20V40Z"
              />
              <path
                fill="#FDC400"
                d="M80 70c0-11.046 8.954-20 20-20s20 8.954 20 20-8.954 20-20 20-20-8.954-20-20Z"
              />
              <path
                fill="#000"
                d="M170.64 70.28c0 1.387.24 2.667.72 3.84.533 1.12 1.2 2.107 2 2.96a9.358 9.358 0 0 0 2.96 2c1.173.48 2.4.72 3.68.72 1.28 0 2.48-.24 3.6-.72 1.173-.48 2.16-1.147 2.96-2a9.366 9.366 0 0 0 2-2.96c.533-1.173.8-2.427.8-3.76 0-1.28-.267-2.48-.8-3.6a9.144 9.144 0 0 0-2-3.04c-.8-.853-1.787-1.52-2.96-2A9.041 9.041 0 0 0 180 61c-1.28 0-2.507.24-3.68.72a9.358 9.358 0 0 0-2.96 2c-.8.853-1.467 1.84-2 2.96a9.041 9.041 0 0 0-.72 3.6Zm-15.28-.16c0-3.04.613-5.867 1.84-8.48a20.39 20.39 0 0 1 5.12-6.88c2.187-1.973 4.773-3.52 7.76-4.64 3.04-1.12 6.347-1.68 9.92-1.68 3.52 0 6.773.56 9.76 1.68 3.04 1.067 5.653 2.587 7.84 4.56a19.74 19.74 0 0 1 5.2 6.96c1.227 2.667 1.84 5.627 1.84 8.88 0 3.253-.64 6.24-1.92 8.96a21.237 21.237 0 0 1-5.12 6.96c-2.187 1.92-4.827 3.413-7.92 4.48-3.04 1.067-6.347 1.6-9.92 1.6-3.52 0-6.773-.533-9.76-1.6-2.987-1.067-5.573-2.587-7.76-4.56-2.133-1.973-3.813-4.32-5.04-7.04-1.227-2.773-1.84-5.84-1.84-9.2Zm109.856-20.16v12.08h-8.32V91h-14.48V62.04h-13.76V91h-14.48V62.04h-5.2V49.96h5.2v-7.6c0-5.547 2.186-10.24 6.56-14.08 4.266-3.627 9.2-5.44 14.8-5.44 2.613 0 5.093.427 7.44 1.28a24.3 24.3 0 0 1 6.64 3.6c2.026-1.6 4.213-2.8 6.56-3.6 2.346-.853 4.88-1.28 7.6-1.28 5.653 0 10.586 1.813 14.8 5.44 4.373 3.733 6.56 8.427 6.56 14.08v1.84h-14.48v-1.84c0-2.133-.64-3.92-1.92-5.36-.64-.747-1.387-1.28-2.24-1.6-.8-.32-1.707-.48-2.72-.48-1.974 0-3.627.747-4.96 2.24-1.067 1.28-1.707 2.667-1.92 4.16v8.64h8.32ZM285.136 91h-14.48V49.96h14.48V91Zm-42.72-41.04v-7.6c0-1.973-.667-3.707-2-5.2-1.28-1.493-2.907-2.24-4.88-2.24-1.974 0-3.627.747-4.96 2.24-1.28 1.547-1.92 3.28-1.92 5.2v7.6h13.76Zm83.629 13.28c-2.507-1.707-5.04-2.56-7.6-2.56-1.387 0-2.693.24-3.92.72a9.42 9.42 0 0 0-3.12 2.08c-.907.853-1.627 1.893-2.16 3.12-.48 1.173-.72 2.507-.72 4 0 1.44.24 2.773.72 4a11.394 11.394 0 0 0 2.08 3.12 9.853 9.853 0 0 0 3.2 2c1.227.48 2.533.72 3.92.72 2.72 0 5.253-.933 7.6-2.8v12.32c-3.573 1.547-6.96 2.32-10.16 2.32-2.987 0-5.84-.507-8.56-1.52a22.55 22.55 0 0 1-7.12-4.32c-2.027-1.92-3.653-4.187-4.88-6.8-1.227-2.667-1.84-5.627-1.84-8.88 0-3.253.587-6.213 1.76-8.88 1.173-2.72 2.773-5.04 4.8-6.96 2.027-1.973 4.427-3.493 7.2-4.56 2.827-1.12 5.84-1.68 9.04-1.68 3.52 0 6.773.747 9.76 2.24v12.32Zm38.259 1.28c-.48-2.027-1.467-3.653-2.96-4.88-1.494-1.227-3.307-1.84-5.44-1.84-2.24 0-4.08.587-5.52 1.76-1.387 1.173-2.267 2.827-2.64 4.96h16.56Zm-16.96 8.4c0 6.24 2.933 9.36 8.8 9.36 3.146 0 5.52-1.28 7.12-3.84h14c-2.827 9.387-9.894 14.08-21.2 14.08-3.467 0-6.64-.507-9.52-1.52-2.88-1.067-5.36-2.56-7.44-4.48-2.027-1.92-3.6-4.213-4.72-6.88-1.12-2.667-1.68-5.653-1.68-8.96 0-3.413.533-6.48 1.6-9.2 1.066-2.773 2.586-5.12 4.56-7.04 1.973-1.92 4.346-3.387 7.12-4.4 2.826-1.067 6-1.6 9.52-1.6 3.466 0 6.586.533 9.36 1.6 2.773 1.013 5.12 2.507 7.04 4.48 1.92 1.973 3.386 4.4 4.4 7.28 1.013 2.827 1.52 6.027 1.52 9.6v1.52h-30.48Zm82.104-10.88V91h-14.48V62.04h-4.8V49.96h4.8V37.64h14.48v12.32h8.24v12.08h-8.24Zm27.905 8.32c0 1.333.24 2.587.72 3.76.48 1.12 1.12 2.107 1.92 2.96a9.358 9.358 0 0 0 2.96 2c1.173.48 2.427.72 3.76.72 1.28 0 2.48-.24 3.6-.72 1.173-.48 2.16-1.147 2.96-2a9.366 9.366 0 0 0 2-2.96c.533-1.12.8-2.32.8-3.6 0-1.28-.267-2.48-.8-3.6a9.144 9.144 0 0 0-2-3.04c-.8-.853-1.787-1.52-2.96-2a9.041 9.041 0 0 0-3.6-.72c-1.333 0-2.587.24-3.76.72a9.358 9.358 0 0 0-2.96 2c-.8.853-1.44 1.84-1.92 2.96-.48 1.067-.72 2.24-.72 3.52Zm18.24-20.4h14.56V91h-14.56v-4.56c-3.093 3.893-7.28 5.84-12.56 5.84-2.987 0-5.733-.533-8.24-1.6a20.384 20.384 0 0 1-6.56-4.64c-1.867-1.973-3.333-4.293-4.4-6.96-1.013-2.667-1.52-5.573-1.52-8.72 0-2.933.507-5.707 1.52-8.32 1.013-2.667 2.427-4.987 4.24-6.96 1.813-1.973 3.973-3.52 6.48-4.64 2.507-1.173 5.28-1.76 8.32-1.76 5.12 0 9.36 1.787 12.72 5.36v-4.08Zm38.894-25.36v40.16l15.2-14.8h19.84l-20.56 18.96L550.727 91h-20.32l-15.92-16.72V91h-14.48V24.6h14.48Zm52.319 45.76c0 1.333.24 2.587.72 3.76.48 1.12 1.12 2.107 1.92 2.96a9.369 9.369 0 0 0 2.96 2c1.174.48 2.427.72 3.76.72 1.28 0 2.48-.24 3.6-.72 1.174-.48 2.16-1.147 2.96-2a9.35 9.35 0 0 0 2-2.96c.534-1.12.8-2.32.8-3.6 0-1.28-.266-2.48-.8-3.6a9.129 9.129 0 0 0-2-3.04c-.8-.853-1.786-1.52-2.96-2a9.041 9.041 0 0 0-3.6-.72c-1.333 0-2.586.24-3.76.72a9.369 9.369 0 0 0-2.96 2c-.8.853-1.44 1.84-1.92 2.96-.48 1.067-.72 2.24-.72 3.52Zm18.24-20.4h14.56V91h-14.56v-4.56c-3.093 3.893-7.28 5.84-12.56 5.84-2.986 0-5.733-.533-8.24-1.6a20.395 20.395 0 0 1-6.56-4.64c-1.866-1.973-3.333-4.293-4.4-6.96-1.013-2.667-1.52-5.573-1.52-8.72 0-2.933.507-5.707 1.52-8.32 1.014-2.667 2.427-4.987 4.24-6.96 1.814-1.973 3.974-3.52 6.48-4.64 2.507-1.173 5.28-1.76 8.32-1.76 5.12 0 9.36 1.787 12.72 5.36v-4.08Zm24.414 0h14.48v5.2c1.973-2.4 3.973-4 6-4.8 2.027-.853 4.4-1.28 7.12-1.28 2.88 0 5.333.48 7.36 1.44 2.08.907 3.84 2.213 5.28 3.92 1.173 1.387 1.973 2.933 2.4 4.64.427 1.707.64 3.653.64 5.84V91h-14.48V70.28c0-2.027-.16-3.653-.48-4.88-.267-1.28-.773-2.293-1.52-3.04A5.487 5.487 0 0 0 634.1 61c-.8-.267-1.653-.4-2.56-.4-2.453 0-4.347.747-5.68 2.24-1.28 1.44-1.92 3.52-1.92 6.24V91h-14.48V49.96Zm66.805 20.32c0 1.387.24 2.667.72 3.84.533 1.12 1.2 2.107 2 2.96a9.358 9.358 0 0 0 2.96 2c1.173.48 2.4.72 3.68.72 1.28 0 2.48-.24 3.6-.72 1.173-.48 2.16-1.147 2.96-2a9.366 9.366 0 0 0 2-2.96c.533-1.173.8-2.427.8-3.76 0-1.28-.267-2.48-.8-3.6a9.144 9.144 0 0 0-2-3.04c-.8-.853-1.787-1.52-2.96-2a9.041 9.041 0 0 0-3.6-.72c-1.28 0-2.507.24-3.68.72a9.358 9.358 0 0 0-2.96 2c-.8.853-1.467 1.84-2 2.96a9.041 9.041 0 0 0-.72 3.6Zm-15.28-.16c0-3.04.613-5.867 1.84-8.48a20.39 20.39 0 0 1 5.12-6.88c2.187-1.973 4.773-3.52 7.76-4.64 3.04-1.12 6.347-1.68 9.92-1.68 3.52 0 6.773.56 9.76 1.68 3.04 1.067 5.653 2.587 7.84 4.56a19.74 19.74 0 0 1 5.2 6.96c1.227 2.667 1.84 5.627 1.84 8.88 0 3.253-.64 6.24-1.92 8.96a21.237 21.237 0 0 1-5.12 6.96c-2.187 1.92-4.827 3.413-7.92 4.48-3.04 1.067-6.347 1.6-9.92 1.6-3.52 0-6.773-.533-9.76-1.6-2.987-1.067-5.573-2.587-7.76-4.56-2.133-1.973-3.813-4.32-5.04-7.04-1.227-2.773-1.84-5.84-1.84-9.2Zm57.616-20.16h14.48v6.72c1.546-2.453 3.44-4.32 5.68-5.6 2.24-1.333 4.853-2 7.84-2h1.2c.48 0 1.013.053 1.6.16v13.84c-1.92-.96-4-1.44-6.24-1.44-3.36 0-5.894 1.013-7.6 3.04-1.654 1.973-2.48 4.88-2.48 8.72V91h-14.48V49.96Zm51.745 0V91h-14.48V49.96h14.48Zm-15.44-15.76c0-1.12.214-2.16.64-3.12a8.196 8.196 0 0 1 1.76-2.64 8.442 8.442 0 0 1 2.56-1.76 8.165 8.165 0 0 1 3.2-.64c1.12 0 2.16.213 3.12.64a8.165 8.165 0 0 1 2.64 1.76 8.164 8.164 0 0 1 1.76 2.64c.427.96.64 2 .64 3.12s-.213 2.187-.64 3.2a8.42 8.42 0 0 1-1.76 2.56 8.165 8.165 0 0 1-2.64 1.76c-.96.427-2 .64-3.12.64a8.165 8.165 0 0 1-3.2-.64 8.442 8.442 0 0 1-2.56-1.76 8.456 8.456 0 0 1-1.76-2.56 8.175 8.175 0 0 1-.64-3.2Zm58.055 36.4c0-1.28-.24-2.48-.72-3.6a8.188 8.188 0 0 0-1.92-3.04 9.13 9.13 0 0 0-3.04-2c-1.12-.533-2.346-.8-3.68-.8-1.28 0-2.48.24-3.6.72a9.369 9.369 0 0 0-2.96 2c-.8.853-1.466 1.867-2 3.04a9.041 9.041 0 0 0-.72 3.6c0 1.28.24 2.48.72 3.6a9.366 9.366 0 0 0 2 2.96c.854.8 1.84 1.467 2.96 2 1.174.48 2.4.72 3.68.72 1.28 0 2.48-.24 3.6-.72a8.469 8.469 0 0 0 2.88-2 9.35 9.35 0 0 0 2-2.96 8.08 8.08 0 0 0 .8-3.52Zm-18.24 40.88h-14.48V49.96h14.48v4.56c3.094-3.893 7.307-5.84 12.64-5.84 2.934 0 5.654.587 8.16 1.76 2.56 1.12 4.774 2.667 6.64 4.64 1.867 1.973 3.307 4.293 4.32 6.96 1.067 2.667 1.6 5.52 1.6 8.56 0 3.04-.533 5.867-1.6 8.48-1.013 2.613-2.453 4.907-4.32 6.88-1.813 1.973-3.973 3.52-6.48 4.64-2.506 1.12-5.226 1.68-8.16 1.68-5.12 0-9.386-1.76-12.8-5.28v24.48Z"
              />
            </svg>
          </h1>
        </a>
        <p className={cx(styles.slash, styles.spOnly)}>/</p>
        <div className={cx(styles.menuWrapper, styles.spOnly)}>
          <button
            className={styles.button}
            role="button"
            popoverTarget="sp-menu"
          >
            {dir}
            <svg
              width="20"
              height="20"
              viewBox="0 0 20 20"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M5 7.5L10 12.5L15 7.5"
                stroke="#525960"
                strokeWidth="1.66667"
                strokeLinecap="round"
                strokeLinejoin="round"
              />
            </svg>
          </button>
          <nav className={styles.menu} popover="auto" id="sp-menu">
            <a
              className={cx(styles.menuItem, {
                [styles.current]: dir === "about",
              })}
              href="/"
            >
              about
            </a>
            <a
              className={cx(styles.menuItem, {
                [styles.current]: dir === "works",
              })}
              href="/works"
            >
              works
            </a>
            <a
              className={cx(styles.menuItem, styles.navItemBlog)}
              href="https://blog.takanorip.com"
            >
              blog
              <ExternalLink />
            </a>
          </nav>
        </div>
      </div>
      <nav className={cx(styles.nav, { [styles.open]: dir === "about" })}>
        <a
          className={cx(styles.navItem, { [styles.active]: dir === "about" })}
          href="/"
        >
          about
        </a>
        <a
          className={cx(styles.navItem, { [styles.active]: dir === "works" })}
          href="/works"
        >
          works
        </a>
        <a
          className={cx(styles.navItem, styles.navItemBlog)}
          href="https://blog.takanorip.com"
        >
          blog
          <ExternalLink />
        </a>
      </nav>
    </header>
  );
};
export default Header;
